{% extends "forms/base.html" %}
{% block content %}
    <div class="content-section">
        <form method="POST">
            {% csrf_token %}
            <legend class="border-bottom mb-4">Create new product for
                invoice: {{ invoice.id | stringformat:"03d" }}</legend>
            <div class="form-group">
                <label for={{ form.name.id_for_label }}>{{ form.name.label_tag }}</label>
                <input class="form-control"
                       id="{{ form.name.id_for_label }}"
                       maxlength="30"
                       name="{{ form.name.html_name }}"
                       value="{{ form.name.value | default_if_none:"" }}"
                       type="text"
                       required/>
                {% for error in form.name.errors %}
                    <div class="invalid-feedback d-block"> {{ error|escape }} </div>
                {% endfor %}
            </div>
            <div class="form-group">
                <label for={{ form.amount.id_for_label }}>{{ form.amount.label_tag }}</label>
                <input class="form-control"
                       id="{{ form.amount.id_for_label }}"
                       maxlength="30"
                       name="{{ form.amount.html_name }}"
                       value="{{ form.amount.value | default_if_none:"" }}"
                       min="1"
                       type="number"
                       required/>
                {% for error in form.amount.errors %}
                    <div class="invalid-feedback d-block"> {{ error|escape }} </div>
                {% endfor %}
            </div>
            <div class="form-group">
                <label for={{ form.amount_type.id_for_label }}>{{ form.amount_type.label_tag }}</label>
                <select class="form-control"
                        id="{{ form.amount_type.id_for_label }}"
                        name="{{ form.amount_type.html_name }}"
                        required
                >
                    {% for value, label in form.amount_type.field.choices %}
                        <option value="{{ value }}">{{ label }}</option>
                    {% endfor %}
                </select>
                {% for error in form.amount_type.errors %}
                    <div class="invalid-feedback d-block"> {{ error|escape }} </div>
                {% endfor %}
            </div>
            <div class="form-group">
                <label for={{ form.sum.id_for_label }}>{{ form.sum.label_tag }}</label>
                <input class="form-control"
                       id="{{ form.sum.id_for_label }}"
                       maxlength="30"
                       name="{{ form.sum.html_name }}"
                       value="{{ form.sum.value | default_if_none:"" }}"
                       min="0"
                       step="0.01"
                       type="number"
                       required/>
                {% for error in form.sum.errors %}
                    <div class="invalid-feedback d-block"> {{ error|escape }} </div>
                {% endfor %}
            </div>
            <div class="form-group">
                <label for={{ form.reason.id_for_label }}>{{ form.reason.label_tag }}</label>
                <input class="form-control"
                       id="{{ form.reason.id_for_label }}"
                       maxlength="30"
                       name="{{ form.reason.html_name }}"
                       value="{{ form.reason.value | default_if_none:"" }}"
                       type="text"
                       required/>
                {% for error in form.reason.errors %}
                    <div class="invalid-feedback d-block"> {{ error|escape }} </div>
                {% endfor %}
            </div>
            <div class="form-group">
                <button class="btn btn-primary" type="submit">Create</button>
            </div>
        </form>
    </div>
{% endblock content %}